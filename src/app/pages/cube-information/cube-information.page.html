<main class="container" *ngIf="(this.activatedRoute.data | async)?.['data'] as data; else loading">
    <div *ngIf="(data | as: CubeInformationResolverData).cube as cube; else noCubeFound">
        <div class="row g-0 card flex-row mb-4">
            <div class="col-md-2">
                <img
                    [src]="cube.image"
                    class="img-fluid"
                />
            </div>
            <div class="col-md-10">
                <div class="card-body">
                    <h1 class="card-title">{{cube.name}}</h1>
                    <p class="card-text">
                        {{cube.description}}
                    </p>
                    <!--                <p class="card-text">-->
                    <!--                    <small class="text-muted">Last updated 3 mins ago</small>-->
                    <!--                </p>-->
                </div>
            </div>
        </div>
        <div>
            <h2>Contents ({{cube.cards.length}} cards):</h2>
            <div class="row flex-row">
                <div *ngFor="let card of cube.cards" class="col-12 col-md-6 col-lg-4 col-xl-3 col-xxl-2 mb-4">
                    <div class="card" *ngIf="card">
                        <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
                            <img [src]="card.id | cardImageUrl" class="img-fluid"/>
                            <span (click)="openModal(card)" style="cursor: pointer">
                                <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                            </span>
                        </div>
                        <div class="card-body">
                            <h3 class="card-title">{{card.name}}</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<ng-template #noCubeFound>
    There was an error finding this cube, please refresh!
</ng-template>

<ng-template #loading>
    Loading...
</ng-template>
